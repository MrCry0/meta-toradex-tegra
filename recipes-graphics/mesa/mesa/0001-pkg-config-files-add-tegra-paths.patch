From e0e65da315173902b909627ac3067463ab5c8710 Mon Sep 17 00:00:00 2001
From: Max Krummenacher <max.krummenacher@toradex.com>
Date: Sat, 7 Sep 2019 13:17:21 +0000
Subject: [PATCH] pkg config files: add tegra paths

Add the paths to the tegra specific libraries.

Signed-off-by: Max Krummenacher <max.krummenacher@toradex.com>
---
 src/egl/meson.build          |   1 +
 src/mapi/es1api/meson.build  |   3 +-
 src/mapi/es2api/meson.build  |   3 +-
 src/meson.build              |   2 +-
 4 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/src/egl/meson.build b/src/egl/meson.build
index 3a0fd01..48e0b2a 100644
--- a/src/egl/meson.build
+++ b/src/egl/meson.build
@@ -181,6 +181,7 @@ if with_glvnd
 else
   _egl = libegl
 endif
+_egl = ' -L=${libdir}/arm-linux-gnueabihf/tegra-egl -L${libdir} -lEGL'
 
 pkg.generate(
   name : 'egl',
diff --git a/src/mapi/es1api/meson.build b/src/mapi/es1api/meson.build
index 53bdc16..c042fe2 100644
--- a/src/mapi/es1api/meson.build
+++ b/src/mapi/es1api/meson.build
@@ -43,12 +43,13 @@ libglesv1_cm = shared_library(
   install : true,
 )
 
+_lib_tegra_gl1 = '-L=${libdir}/arm-linux-gnueabihf/tegra-egl -L${libdir} -lGLESv1_CM'
 pkg.generate(
   name : 'glesv1_cm',
   filebase : 'glesv1_cm',
   description : 'Mesa OpenGL ES 1.1 CM library',
   version : meson.project_version(),
-  libraries : libglesv1_cm,
+  libraries : _lib_tegra_gl1,
   libraries_private : gl_priv_libs,
 )
 
diff --git a/src/mapi/es2api/meson.build b/src/mapi/es2api/meson.build
index d374bd8..9c56933 100644
--- a/src/mapi/es2api/meson.build
+++ b/src/mapi/es2api/meson.build
@@ -43,12 +43,13 @@ libgles2 = shared_library(
   install : true,
 )
 
+_lib_tegra_gl2 = '-L=${libdir}/arm-linux-gnueabihf/tegra-egl -L${libdir} -lGLESv2'
 pkg.generate(
   name : 'glesv2',
   filebase : 'glesv2',
   description : 'Mesa OpenGL ES 2.0 library',
   version : meson.project_version(),
-  libraries : libgles2,
+  libraries : _lib_tegra_gl2,
   libraries_private : gl_priv_libs,
 )
 
diff --git a/src/meson.build b/src/meson.build
index 6d04b5f..691811d 100644
--- a/src/meson.build
+++ b/src/meson.build
@@ -107,7 +107,7 @@ if with_glx != 'disabled'
   else
     _gl = libgl
   endif
-
+  _gl = '-L=${libdir}/arm-linux-gnueabihf/tegra -L${libdir} -lGL'
   pkg.generate(
     name : 'gl',
     description : 'Mesa OpenGL Library',
-- 
2.20.1

